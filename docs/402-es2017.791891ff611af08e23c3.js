!function(){"use strict";var n,t,e,r={8992:function(n,t,e){function*r(n,t){for(let e=n;e<t;++e)yield e}function*o(n,t){let e=0;for(const r of n)yield t(r,e),e+=1}function*u(n){const t=function(n){let t,e=n.length;for(;0!==e;)t=Math.floor(Math.random()*e),e--,[n[e],n[t]]=[n[t],n[e]];return n}(Array.from(r(0,n.length)));for(const e of t)yield n[e]}function*i(n,t){const e=Math.max(n.length,t.length);for(let r=0;r<e;r++)yield[n[r],t[r]]}function*c(n,t){const e=function*(n){for(const t of n)yield t}(n);for(;;){const n=Array.from(f(e,t));if(!(n.length>0))break;yield n}}function*f(n,t){const e=n[Symbol.iterator]();let r,o=0;for(;!1===(r=e.next()).done&&(yield r.value,++o,!(o>=t)););}e.d(t,{w6:function(){return r},UI:function(){return o},yg:function(){return u},$R:function(){return i},uK:function(){return c}})},5307:function(n,t,e){e.d(t,{hl:function(){return o},q9:function(){return u},ZN:function(){return i},fe:function(){return c},B5:function(){return f},lu:function(){return l},BU:function(){return a},W0:function(){return s},bM:function(){return p},dW:function(){return d},JG:function(){return g},o1:function(){return y},KM:function(){return m},Kk:function(){return v}});var r=e(8992);function o(n,t){return Array.from(r.UI(r.w6(0,t),n))}function u(n,t){return o(()=>n,t)}function i(n,t,e){const r=Math.min(n.length,t.length);for(let o=0;o<r;++o)n[o]=e(n[o],t[o])}function c(n,t,e,r){const o=Math.min(n.length,t.length),u=r||new Array(o);for(let i=0;i<o;++i)u[i]=e(n[i],t[i]);return u}function f(n,t,e){const r=n.length,o=e||new Array(r);for(let u=0;u<r;++u)o[u]=t(n[u],u);return o}function l(n,t,e){return c(n,t,(n,t)=>n-t,e)}function a(n,t){i(n,t,(n,t)=>n+t)}function s(n,t){return c(n,t,(n,t)=>n*t,n)}function h(n,t){const e=Math.min(n.length,t.length);let r=0,o=0;for(let u=0;u<e;++u){const e=n[u]*t[u]-o,i=r+e;o=i-r-e,r=i}return r}function p(n){return u(0,n)}function d(n,t){return o(()=>p(t),n)}function g(n){return[...n]}function y(n,t,e=0,r=1){return o(n=>function(n,t=0,e=1){const r=e-t;return o(()=>t+Math.random()*r,n)}(t,e,r),n)}function m(n,t,e){const r=n.length,o=e||new Array(r);for(let u=0;u<r;u++)o[u]=h(n[u],t);return o}function v(n,t){const e=new Array(n[0].length),r=Math.min(n.length,t.length);for(let o=0;o<e.length;++o){let u=0,i=0;for(let e=0;e<r;e++){const r=n[e][o]*t[e]-i,c=u+r;i=c-u-r,u=c}e[o]=u}return e}},3402:function(n,t,e){function r(n,t){let e=0;for(let r=0;r<n.length;r++)e+=Math.pow(t[r]-n[r],2);return e/n.length}var o=e(3515);const u=[13,7,5],i=o.h0("#e72525"),c=o.h0("#2562e7");var f=e(3430);let l=w(u,.01),a=[],s=[],h=[],p=0,d=!1,g=1,y=0,m=0,v=0;function w(n,t){const e=new f.Z.Models.Sequential(new f.Z.Optimizers.sgd(t));e.addLayer(new f.Z.Layers.Dense(2));for(const r of n)e.addLayer(new f.Z.Layers.Dense(r,"sigmoid","xavier"));return e.addLayer(new f.Z.Layers.Dense(1)),e.compile(),e}function x(n=.25){const t=performance.now();if(t-m<41.666666666666664)return;const e=1/640/n,r=1/480/n,u=Math.ceil(1/e),f=Math.ceil(1/r),a=new Uint32Array(u*f);for(let h=0;h<u;h++)for(let n=0;n<f;n++){const t=l.compute([h*e,n*r]);a[n*u+h]=o.a4(i,c,t[0])}const s={type:"training_data",epoch:l.epoch,loss:g,isTraining:d,state:a.buffer,nnSnapshot:l.getSnapshot(),width:u,height:f};m=t,postMessage(s,[a.buffer]),console.log(`*** DRAWING ${(performance.now()-t).toFixed(2)}ms`)}addEventListener("message",({data:n})=>{var t,e;switch(n.type){case"add_point":const r=n.point;a.push(r),s.push([r.x,r.y]),h.push([r.type]),p=0,y=0,d=!0;break;case"set_points":a=n.points,s=a.map(n=>[n.x,n.y]),h=a.map(n=>[n.type]),p=0,y=0,d=!0;break;case"refresh":const o=(null===(t=n.config)||void 0===t?void 0:t.layers)||u,i=(null===(e=n.config)||void 0===e?void 0:e.learningRate)||.01;l=w(o,i),p=0,y=0,d=!0}}),setTimeout(function n(){try{!function(){if(!d)return;const n=1e6-p,t=performance.now(),e=Math.max(1,Math.floor(a.length/50));let o,u=10;for(o=0;o<n;o++)if(l.train(s,h,e),o%u==0){const n=performance.now()-t;if(n>=10.416666666666666)break;o>0&&(u=Math.min(1e3,Math.max(1,Math.floor(o/n*(10.416666666666666-n)*.9))))}p+=o,y+=o;const i=performance.now()-v;i>=416.66666666666663&&(g=function(n,t,e){let o=0;for(let u=0;u<t.length;u++)o+=r(n.compute(t[u]),e[u]);return o/t.length}(l,s,h),d=g>=1e-4&&p<1e6,console.log(`*** METRICS ${y} epochs in ${i.toFixed(2)}ms (${(a.length*y/i).toFixed(2)} op/ms) loss: ${g.toFixed(4)}`),y=0,v=performance.now()),d?x():(m=0,console.log("*** DATA SET TRAINING FINISHED ***"),function(n,t,e){if(0===t.length)return;console.log("***");let o=0;for(let u=0;u<t.length;u++){const i=t[u],c=e[u],f=n.compute(i),l=f.map(n=>n.toFixed(2)),a=c.map(n=>n.toFixed(2)),s=100*(1-r(c,f));console.log(`INPUT ${i} OUTPUT ${l} EXPECTED ${a} (accuracy ${s.toFixed(2)}%)`),o+=s}console.log(`TOTAL ACCURACY: ${(o/t.length).toFixed(2)}%`),console.log("***")}(l,s,h),x(2))}()}finally{p<1e6&&a.length>0?setTimeout(n,3):setTimeout(n,1e3)}},0)}},o={};function u(n){var t=o[n];if(void 0!==t)return t.exports;var e=o[n]={exports:{}};return r[n](e,e.exports,u),e.exports}u.m=r,u.x=function(){var n=u.O(void 0,[440],function(){return u(3402)});return u.O(n)},n=[],u.O=function(t,e,r,o){if(!e){var i=1/0;for(l=0;l<n.length;l++){e=n[l][0],r=n[l][1],o=n[l][2];for(var c=!0,f=0;f<e.length;f++)(!1&o||i>=o)&&Object.keys(u.O).every(function(n){return u.O[n](e[f])})?e.splice(f--,1):(c=!1,o<i&&(i=o));c&&(n.splice(l--,1),t=r())}return t}o=o||0;for(var l=n.length;l>0&&n[l-1][2]>o;l--)n[l]=n[l-1];n[l]=[e,r,o]},u.d=function(n,t){for(var e in t)u.o(t,e)&&!u.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:t[e]})},u.f={},u.e=function(n){return Promise.all(Object.keys(u.f).reduce(function(t,e){return u.f[e](n,t),t},[]))},u.u=function(n){return n+"-es2017.352aa0b08f290bd8e59b.js"},u.miniCssF=function(n){},u.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},u.tu=function(n){return void 0===t&&(t={createScriptURL:function(n){return n}},"undefined"!=typeof trustedTypes&&trustedTypes.createPolicy&&(t=trustedTypes.createPolicy("angular#bundler",t))),t.createScriptURL(n)},u.p="",function(){var n={402:1};u.f.i=function(t,e){n[t]||importScripts(u.tu(u.p+u.u(t)))};var t=self.webpackChunkneural_network=self.webpackChunkneural_network||[],e=t.push.bind(t);t.push=function(t){var r=t[0],o=t[1],i=t[2];for(var c in o)u.o(o,c)&&(u.m[c]=o[c]);for(i&&i(u);r.length;)n[r.pop()]=1;e(t)}}(),e=u.x,u.x=function(){return u.e(440).then(e)},u.x()}();