!function(){"use strict";var e,n,t,r={8992:function(e,n,t){function*r(e,n){for(let t=e;t<n;++t)yield t}function*o(e,n){let t=0;for(const r of e)yield n(r,t),t+=1}function*a(e){const n=[];for(const t of e)n.push(t);for(let t=n.length-1;t>=0;t--)yield n[t]}function i(e){let n,t=e.length;for(;0!==t;)n=Math.floor(Math.random()*t),t--,[e[t],e[n]]=[e[n],e[t]];return e}t.d(n,{w6:function(){return r},UI:function(){return o},GY:function(){return a},TV:function(){return i}})},9256:function(e,n,t){var r=t(8992),o=t(3515),a=t(5307);function i(e,n){let t=0;for(let r=0;r<e.length;r++)t+=Math.pow(n[r]-e[r],2);return t/e.length}function c(e,n=0,t=1){return a.MX(e,n,t)}function u(e){return e[Math.floor(Math.random()*e.length)]}var s=t(6851);const f=o.h0("#000000"),l=o.h0("#ffffff");let d,p=0,h=0,y=[16,[32,64],256],g=.001,m=w();function w(){const[e,n,t]=y,o=new s.Z.Models.Sequential(new s.Z.Optimizers.sgd(g));o.addLayer(new s.Z.Layers.Dense(e));for(const r of n)o.addLayer(new s.Z.Layers.Dense(r));o.addLayer(new s.Z.Layers.Dense(t)),o.compile();const a=new s.Z.Models.Sequential(new s.Z.Optimizers.sgd(g));a.addLayer(new s.Z.Layers.Dense(t));for(const i of r.GY(n))a.addLayer(new s.Z.Layers.Dense(i));return a.addLayer(new s.Z.Layers.Dense(1)),a.compile(),new s.Z.Models.GAN(o,a)}function v(){const e=Math.floor(Math.sqrt(y[2])),n=5*e,t=L(5,e,()=>u(d)),r=L(5,e,()=>{const e=c(y[0]);return m.compute(e)});postMessage({type:"training_data",width:n,height:n,trainingData:t,generatedData:r,currentIteration:h},[t,r])}function L(e,n,t){const r=n*e,o=new Uint32Array(r*r);for(let a=0;a<e;a++)for(let i=0;i<e;i++){const e=x(t(a,i)),c=a*n,u=i*n;for(let t=0;t<e.length;t++){const a=t%n;o[(c+(t-a)/n)*r+u+a]=e[t]}}return o.buffer}function x(e){const n=new Uint32Array(e.length);for(let t=0;t<e.length;t++)n[t]=o.a4(f,l,e[t]);return n}addEventListener("message",({data:e})=>{var n;function t(){e.params&&(y=e.params),m=w(),h=0,d&&d.length>0&&v()}switch(e.type){case"refresh":e.learningRate&&(g=e.learningRate),3===(null===(n=null==e?void 0:e.layers)||void 0===n?void 0:n.length)&&(y=e.layers),t();break;case"set_data":d=e.data,t()}}),setTimeout(function e(){try{!function(){if(!m||!d||0===d.length)return;const e=r.TV(Array.from(r.w6(0,d.length))),n=performance.now();let t=0;for(;++t&&(m.train(d[e[t%d.length]],[1],c(y[0]),[0]),!(t%250==0&&performance.now()-n>500)););h+=t;const o=performance.now()-n;console.log(`*** BATCH FINISHED with ${t} in ${o.toFixed(2)}ms (${(t/o*1e3).toFixed(2)} op/s)`);const a=i(m.discriminator.compute(u(d)),[1]),s=i(m.discriminator.compute(m.generator.compute(c(y[0]))),[0]);console.log(`*** DISCRIMINATOR real loss ${a.toFixed(2)}, fake loss ${s.toFixed(2)}`);const f=performance.now();f-p>1e3&&(v(),p=f,console.log(`*** DRAW took ${(performance.now()-f).toFixed(2)}ms`))}()}finally{m&&d&&0!==d.length?setTimeout(e,0):setTimeout(e,1e3)}},0)}},o={};function a(e){var n=o[e];if(void 0!==n)return n.exports;var t=o[e]={exports:{}};return r[e](t,t.exports,a),t.exports}a.m=r,a.x=function(){var e=a.O(void 0,[742],function(){return a(9256)});return a.O(e)},e=[],a.O=function(n,t,r,o){if(!t){var i=1/0;for(s=0;s<e.length;s++){t=e[s][0],r=e[s][1],o=e[s][2];for(var c=!0,u=0;u<t.length;u++)(!1&o||i>=o)&&Object.keys(a.O).every(function(e){return a.O[e](t[u])})?t.splice(u--,1):(c=!1,o<i&&(i=o));c&&(e.splice(s--,1),n=r())}return n}o=o||0;for(var s=e.length;s>0&&e[s-1][2]>o;s--)e[s]=e[s-1];e[s]=[t,r,o]},a.d=function(e,n){for(var t in n)a.o(n,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce(function(n,t){return a.f[t](e,n),n},[]))},a.u=function(e){return e+"-es2017.9cdf382509bca7134c1c.js"},a.miniCssF=function(e){},a.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},a.tu=function(e){return void 0===n&&(n={createScriptURL:function(e){return e}},"undefined"!=typeof trustedTypes&&trustedTypes.createPolicy&&(n=trustedTypes.createPolicy("angular#bundler",n))),n.createScriptURL(e)},a.p="",function(){var e={256:1};a.f.i=function(n,t){e[n]||importScripts(a.tu(a.p+a.u(n)))};var n=self.webpackChunkneural_network=self.webpackChunkneural_network||[],t=n.push.bind(n);n.push=function(n){var r=n[0],o=n[1],i=n[2];for(var c in o)a.o(o,c)&&(a.m[c]=o[c]);for(i&&i(a);r.length;)e[r.pop()]=1;t(n)}}(),t=a.x,a.x=function(){return a.e(742).then(t)},a.x()}();