!function(){function e(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var t,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(t=n.next()).done)&&(o.push(t.value),!r||o.length!==r);i=!0);}catch(c){u=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,r)||n(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=n(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return u=e.done,e},e:function(e){c=!0,i=e},f:function(){try{u||null==t.return||t.return()}finally{if(c)throw i}}}}function n(e,r){if(e){if("string"==typeof e)return t(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,r):void 0}}function t(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}!function(){"use strict";var n,t,a,o={8992:function(e,n,t){var a=regeneratorRuntime.mark(u),o=regeneratorRuntime.mark(c),i=regeneratorRuntime.mark(f);function u(e,r){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=e;case 1:if(!(n<r)){t.next=7;break}return t.next=4,n;case 4:++n,t.next=1;break;case 7:case"end":return t.stop()}},a)}function c(e,n){var t,a,i,u;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:t=0,a=r(e),o.prev=2,a.s();case 4:if((i=a.n()).done){o.next=11;break}return u=i.value,o.next=8,n(u,t);case 8:t+=1;case 9:o.next=4;break;case 11:o.next=16;break;case 13:o.prev=13,o.t0=o.catch(2),a.e(o.t0);case 16:return o.prev=16,a.f(),o.finish(16);case 19:case"end":return o.stop()}},o,null,[[2,13,16,19]])}function f(e){var n,t,a,o,u;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:n=[],t=r(e);try{for(t.s();!(a=t.n()).done;)o=a.value,n.push(o)}catch(c){t.e(c)}finally{t.f()}u=n.length-1;case 4:if(!(u>=0)){i.next=10;break}return i.next=7,n[u];case 7:u--,i.next=4;break;case 10:case"end":return i.stop()}},i)}function s(e){for(var r,n=e.length;0!==n;){var t;r=Math.floor(Math.random()*n),n--,t=[e[r],e[n]],e[n]=t[0],e[r]=t[1]}return e}t.d(n,{w6:function(){return u},UI:function(){return c},GY:function(){return f},TV:function(){return s}})},9256:function(n,t,a){var o=a(8992),i=a(3515),u=a(5307);function c(e,r){for(var n=0,t=0;t<e.length;t++)n+=Math.pow(r[t]-e[t],2);return n/e.length}function f(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return u.MX(e,r,n)}function s(e){return e[Math.floor(Math.random()*e.length)]}var l,d=a(6851),v=i.h0("#000000"),p=i.h0("#ffffff"),y=0,h=0,m=[16,[32,64],256],g=.001,w=b();function b(){var n=e(m,3),t=n[0],a=n[1],i=n[2],u=new d.Z.Models.Sequential(new d.Z.Optimizers.sgd(g));u.addLayer(new d.Z.Layers.Dense(t));var c,f=r(a);try{for(f.s();!(c=f.n()).done;){var s=c.value;u.addLayer(new d.Z.Layers.Dense(s))}}catch(h){f.e(h)}finally{f.f()}u.addLayer(new d.Z.Layers.Dense(i)),u.compile();var l=new d.Z.Models.Sequential(new d.Z.Optimizers.sgd(g));l.addLayer(new d.Z.Layers.Dense(i));var v,p=r(o.GY(a));try{for(p.s();!(v=p.n()).done;){var y=v.value;l.addLayer(new d.Z.Layers.Dense(y))}}catch(h){p.e(h)}finally{p.f()}return l.addLayer(new d.Z.Layers.Dense(1)),l.compile(),new d.Z.Models.GAN(u,l)}function x(){var e=Math.floor(Math.sqrt(m[2])),r=5*e,n=k(5,e,function(){return s(l)}),t=k(5,e,function(){var e=f(m[0]);return w.compute(e)});postMessage({type:"training_data",width:r,height:r,trainingData:n,generatedData:t,currentIteration:h},[n,t])}function k(e,r,n){for(var t=r*e,a=new Uint32Array(t*t),o=0;o<e;o++)for(var i=0;i<e;i++)for(var u=A(n(o,i)),c=o*r,f=i*r,s=0;s<u.length;s++){var l=s%r;a[(c+(s-l)/r)*t+f+l]=u[s]}return a.buffer}function A(e){for(var r=new Uint32Array(e.length),n=0;n<e.length;n++)r[n]=i.a4(v,p,e[n]);return r}addEventListener("message",function(e){var r,n=e.data;function t(){n.params&&(m=n.params),w=b(),h=0,l&&l.length>0&&x()}switch(n.type){case"refresh":n.learningRate&&(g=n.learningRate),3===(null===(r=null==n?void 0:n.layers)||void 0===r?void 0:r.length)&&(m=n.layers),t();break;case"set_data":l=n.data,t()}}),setTimeout(function e(){try{!function(){if(w&&l&&0!==l.length){for(var e=o.TV(Array.from(o.w6(0,l.length))),r=performance.now(),n=0;++n&&(w.train(l[e[n%l.length]],[1],f(m[0]),[0]),!(n%250==0&&performance.now()-r>500)););h+=n;var t=performance.now()-r;console.log("*** BATCH FINISHED with ".concat(n," in ").concat(t.toFixed(2),"ms (").concat((n/t*1e3).toFixed(2)," op/s)"));var a=c(w.discriminator.compute(s(l)),[1]),i=c(w.discriminator.compute(w.generator.compute(f(m[0]))),[0]);console.log("*** DISCRIMINATOR real loss ".concat(a.toFixed(2),", fake loss ").concat(i.toFixed(2)));var u=performance.now();u-y>1e3&&(x(),y=u,console.log("*** DRAW took ".concat((performance.now()-u).toFixed(2),"ms")))}}()}finally{w&&l&&0!==l.length?setTimeout(e,0):setTimeout(e,1e3)}},0)}},i={};function u(e){var r=i[e];if(void 0!==r)return r.exports;var n=i[e]={exports:{}};return o[e](n,n.exports,u),n.exports}u.m=o,u.x=function(){var e=u.O(void 0,[742],function(){return u(9256)});return u.O(e)},n=[],u.O=function(e,r,t,a){if(!r){var o=1/0;for(f=0;f<n.length;f++){r=n[f][0],t=n[f][1],a=n[f][2];for(var i=!0,c=0;c<r.length;c++)(!1&a||o>=a)&&Object.keys(u.O).every(function(e){return u.O[e](r[c])})?r.splice(c--,1):(i=!1,a<o&&(o=a));i&&(n.splice(f--,1),e=t())}return e}a=a||0;for(var f=n.length;f>0&&n[f-1][2]>a;f--)n[f]=n[f-1];n[f]=[r,t,a]},u.d=function(e,r){for(var n in r)u.o(r,n)&&!u.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},u.f={},u.e=function(e){return Promise.all(Object.keys(u.f).reduce(function(r,n){return u.f[n](e,r),r},[]))},u.u=function(e){return e+"-es2017.9cdf382509bca7134c1c.js"},u.miniCssF=function(e){},u.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},u.tu=function(e){return void 0===t&&(t={createScriptURL:function(e){return e}},"undefined"!=typeof trustedTypes&&trustedTypes.createPolicy&&(t=trustedTypes.createPolicy("angular#bundler",t))),t.createScriptURL(e)},u.p="",function(){var e={256:1};u.f.i=function(r,n){e[r]||importScripts(u.tu(u.p+u.u(r)))};var r=self.webpackChunkneural_network=self.webpackChunkneural_network||[],n=r.push.bind(r);r.push=function(r){var t=r[0],a=r[1],o=r[2];for(var i in a)u.o(a,i)&&(u.m[i]=a[i]);for(o&&o(u);t.length;)e[t.pop()]=1;n(r)}}(),a=u.x,u.x=function(){return u.e(742).then(a)},u.x()}()}();