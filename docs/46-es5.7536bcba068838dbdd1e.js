!function(){function n(e,o,a){return(n=t()?Reflect.construct:function(n,t,e){var o=[null];o.push.apply(o,t);var a=new(Function.bind.apply(n,o));return e&&r(a,e.prototype),a}).apply(null,arguments)}function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}function r(n,t){return(r=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(n,t)}function e(n,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}function o(n){return function(n){if(Array.isArray(n))return u(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||i(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(n,t){var r="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!r){if(Array.isArray(n)||(r=i(n))||t&&n&&"number"==typeof n.length){r&&(n=r);var e=0,o=function(){};return{s:o,n:function(){return e>=n.length?{done:!0}:{done:!1,value:n[e++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,c=!1;return{s:function(){r=r.call(n)},n:function(){var n=r.next();return u=n.done,n},e:function(n){c=!0,a=n},f:function(){try{u||null==r.return||r.return()}finally{if(c)throw a}}}}function i(n,t){if(n){if("string"==typeof n)return u(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(n,t):void 0}}function u(n,t){(null==t||t>n.length)&&(t=n.length);for(var r=0,e=new Array(t);r<t;r++)e[r]=n[r];return e}!function(){"use strict";var t,r,i,u={196:function(n,t,r){r.d(t,{oM:function(){return o},DV:function(){return a}});var e=r(809);function o(n){return 1/(1+Math.exp(-n))}function a(n){return e.B5(n,function(n){return n*(1-n)})}},3110:function(n,t,r){var e=regeneratorRuntime.mark(i),o=regeneratorRuntime.mark(u);function i(n,t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=n;case 1:if(!(r<t)){e.next=7;break}return e.next=4,r;case 4:++r,e.next=1;break;case 7:case"end":return e.stop()}},e)}function u(n,t){var r,e,i,u;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:r=0,e=a(n),o.prev=2,e.s();case 4:if((i=e.n()).done){o.next=11;break}return u=i.value,o.next=8,t(u,r);case 8:r+=1;case 9:o.next=4;break;case 11:o.next=16;break;case 13:o.prev=13,o.t0=o.catch(2),e.e(o.t0);case 16:return o.prev=16,e.f(),o.finish(16);case 19:case"end":return o.stop()}},o,null,[[2,13,16,19]])}r.d(t,{w6:function(){return i},UI:function(){return u}})},809:function(n,t,r){r.d(t,{B5:function(){return u},lu:function(){return c},BU:function(){return f},dC:function(){return l},yH:function(){return s},AK:function(){return h},bM:function(){return p},MX:function(){return v},JG:function(){return g},Pj:function(){return y},o1:function(){return d},Kk:function(){return m}});var e=r(3110);function a(n,t){return Array.from(e.UI(e.w6(0,t),n))}function i(n,t,r){for(var e=Math.min(n.length,t.length),o=new Array(e),a=0;a<e;++a)o[a]=r(n[a],t[a]);return o}function u(n,t){for(var r=n.length,e=new Array(r),o=0;o<r;++o)e[o]=t(n[o]);return e}function c(n,t){return i(n,t,function(n,t){return n-t})}function f(n,t){!function(n,t,r){for(var e=Math.min(n.length,t.length),o=0;o<e;++o)n[o]=n[o]+t[o]}(n,t)}function l(n,t){return i(n,t,function(n,t){return n*t})}function s(n,t){return u(n,function(n){return n*t})}function h(n,t){for(var r=Math.min(n.length,t.length),e=0,o=0,a=0;a<r;++a){var i=n[a]*t[a]-o,u=e+i;o=u-e-i,e=u}return e}function p(n){return function(n,t){return a(function(){return 0},t)}(0,n)}function v(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,e=r-t;return a(function(){return t+Math.random()*e},n)}function g(n){return o(n)}function y(n){return n.map(g)}function d(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return a(function(n){return v(t,r,e)},n)}function m(n,t){for(var r=new Array(n[0].length),e=Math.min(n.length,t.length),o=0;o<r.length;++o){for(var a=0,i=0,u=0;u<e;u++){var c=n[u][o]*t[u]-i,f=a+c;i=f-a-c,a=f}r[o]=a}return r}},7685:function(t,r,a){var i,u=a(809),c=a(3515),f=a(3131),l=function(){function t(r,e,a,i){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.generator=n(f.w,[r].concat(o(e),[a])),this.discriminator=n(f.w,[a].concat(o(i),[1]))}var r,a,i;return r=t,(a=[{key:"learningRate",get:function(){return this.generator.learningRate},set:function(n){this.generator.learningRate=n,this.discriminator.learningRate=n}},{key:"generate",value:function(n){return this.generator.compute(n)}},{key:"train",value:function(n,t){this.discriminator.train(n,[1]);var r=this.generator.compute(t);this.discriminator.train(r,[0]);var e=this.discriminator.train(r,[1],!1);this.generator.trainByError(e)}}])&&e(r.prototype,a),i&&e(r,i),t}(),s=c.h0("#000000"),h=c.h0("#ffffff"),p=0,v=0,g=[10,[16,32],49,[16,16]],y=.01,d=n(l,o(g));function m(){var n=i[Math.floor(Math.random()*i.length)],t=Math.floor(Math.sqrt(n.length)),r=b(n),e=b(d.generate(u.MX(d.generator.layers[0].neuronCnt)));postMessage({type:"training_data",width:t,height:t,trainingData:r,generatedData:e,currentIteration:v},[r,e])}function b(n){for(var t=new Uint32Array(n.length),r=0;r<n.length;r++)t[r]=c.a4(s,h,n[r]);return t.buffer}d.learningRate=.01,addEventListener("message",function(t){var r,e=t.data;function a(){e.params&&(g=e.params),(d=n(l,o(g))).learningRate=y,v=0,i&&i.length>0&&m()}switch(e.type){case"refresh":e.learningRate&&(y=e.learningRate),4===(null===(r=null==e?void 0:e.layers)||void 0===r?void 0:r.length)&&(g=e.layers),a();break;case"set_data":i=e.data,a()}}),setTimeout(function n(){try{!function(){if(d&&i&&0!==i.length){for(var n=performance.now(),t=0;++t;){var r=i[Math.floor(Math.random()*i.length)];if(d.train(r,u.MX(d.generator.layers[0].neuronCnt)),t%500==0&&performance.now()-n>500)break}v+=t,console.log("*** BATCH TRAINING finished with ".concat(t," iterations, took ").concat((performance.now()-n).toFixed(2),"ms"));var e=performance.now();e-p>1e3&&(m(),p=e,console.log("*** DRAW took ".concat((performance.now()-e).toFixed(2),"ms")))}}()}finally{d&&i&&0!==i.length?setTimeout(n,0):setTimeout(n,1e3)}},0)}},c={};function f(n){var t=c[n];if(void 0!==t)return t.exports;var r=c[n]={exports:{}};return u[n](r,r.exports,f),r.exports}f.m=u,f.x=function(){var n=f.O(void 0,[592],function(){return f(7685)});return f.O(n)},t=[],f.O=function(n,r,e,o){if(!r){var a=1/0;for(c=0;c<t.length;c++){r=t[c][0],e=t[c][1],o=t[c][2];for(var i=!0,u=0;u<r.length;u++)(!1&o||a>=o)&&Object.keys(f.O).every(function(n){return f.O[n](r[u])})?r.splice(u--,1):(i=!1,o<a&&(a=o));i&&(t.splice(c--,1),n=e())}return n}o=o||0;for(var c=t.length;c>0&&t[c-1][2]>o;c--)t[c]=t[c-1];t[c]=[r,e,o]},f.d=function(n,t){for(var r in t)f.o(t,r)&&!f.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:t[r]})},f.f={},f.e=function(n){return Promise.all(Object.keys(f.f).reduce(function(t,r){return f.f[r](n,t),t},[]))},f.u=function(n){return"common-es2017.164f3ca35d6d355977ee.js"},f.miniCssF=function(n){},f.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},f.tu=function(n){return void 0===r&&(r={createScriptURL:function(n){return n}},"undefined"!=typeof trustedTypes&&trustedTypes.createPolicy&&(r=trustedTypes.createPolicy("angular#bundler",r))),r.createScriptURL(n)},f.p="",function(){var n={46:1};f.f.i=function(t,r){n[t]||importScripts(f.tu(f.p+f.u(t)))};var t=self.webpackChunkneural_network=self.webpackChunkneural_network||[],r=t.push.bind(t);t.push=function(t){var e=t[0],o=t[1],a=t[2];for(var i in o)f.o(o,i)&&(f.m[i]=o[i]);for(a&&a(f);e.length;)n[e.pop()]=1;r(t)}}(),i=f.x,f.x=function(){return f.e(592).then(i)},f.x()}()}();