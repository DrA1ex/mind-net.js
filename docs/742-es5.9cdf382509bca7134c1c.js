!function(){function t(e,n){return(t=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(e,n)}function e(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var i,o=r(t);if(e){var a=r(this).constructor;i=Reflect.construct(o,arguments,a)}else i=o.apply(this,arguments);return n(this,i)}}function n(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(s){u=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(t,e)||h(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=h(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),t}function c(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||h(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){if(t){if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}(self.webpackChunkneural_network=self.webpackChunkneural_network||[]).push([[742],{5307:function(t,e,n){"use strict";n.d(e,{hl:function(){return i},ZN:function(){return o},fe:function(){return a},B5:function(){return u},lu:function(){return s},BU:function(){return h},W0:function(){return l},bM:function(){return p},MX:function(){return v},JG:function(){return y},KM:function(){return m},Kk:function(){return d}});var r=n(8992);function i(t,e){return Array.from(r.UI(r.w6(0,e),t))}function o(t,e,n){for(var r=Math.min(t.length,e.length),i=0;i<r;++i)t[i]=n(t[i],e[i])}function a(t,e,n,r){for(var i=Math.min(t.length,e.length),o=r||new Array(i),a=0;a<i;++a)o[a]=n(t[a],e[a]);return o}function u(t,e,n){for(var r=t.length,i=n||new Array(r),o=0;o<r;++o)i[o]=e(t[o],o);return i}function s(t,e,n){return a(t,e,function(t,e){return t-e},n)}function h(t,e){o(t,e,function(t,e){return t+e})}function l(t,e){return a(t,e,function(t,e){return t*e},t)}function f(t,e){for(var n=Math.min(t.length,e.length),r=0,i=0,o=0;o<n;++o){var a=t[o]*e[o]-i,u=r+a;i=u-r-a,r=u}return r}function p(t){return function(t,e){return i(function(){return 0},e)}(0,t)}function v(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=n-e;return i(function(){return e+Math.random()*r},t)}function y(t){return c(t)}function m(t,e,n){for(var r=t.length,i=n||new Array(r),o=0;o<r;o++)i[o]=f(t[o],e);return i}function d(t,e){for(var n=new Array(t[0].length),r=Math.min(t.length,e.length),i=0;i<n.length;++i){for(var o=0,a=0,u=0;u<r;u++){var s=t[u][i]*e[u]-a,c=o+s;a=c-o-s,o=c}n[i]=o}return n}},6851:function(n,r,u){"use strict";u.d(r,{Z:function(){return d}});var h=u(5307),l={sgd:function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.01;a(this,t),this.lr=e,this.description="sgd(lr: ".concat(this.lr,")")}return s(t,[{key:"step",value:function(t,e,n,r){var i=this;return h.fe(e,n,function(e,n){return t.activation.moment(e)*n*i.lr})}}]),t}(),nesterov:function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.9,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.01;a(this,t),this.cache=new Map,this.lr=n,this.beta=e,this.description="nesterov(beta: ".concat(this.beta,", lr: ").concat(this.lr,")")}return s(t,[{key:"step",value:function(t,e,n,r){var i=this;this.cache.has(t)||this.cache.set(t,{moments:h.bM(t.size),tmp1:h.bM(t.size)});var o=this.cache.get(t);return h.fe(e,o.moments,function(e,n){return t.activation.moment(e+n)},o.tmp1),h.W0(o.tmp1,n),h.ZN(o.moments,o.tmp1,function(t,e){return i.beta*t+i.lr*e}),o.moments}}]),t}(),adam:function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.9,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.999,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.005,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-8;a(this,t),this.cache=new Map,this.lr=r,this.beta1=e,this.beta2=n,this.eps=i,this.description="adam(beta1: ".concat(e,", beta2: ").concat(n,", lr: ").concat(this.lr,", eps: ").concat(i.toExponential(),")")}return s(t,[{key:"step",value:function(t,e,n,r){var i=this;this.cache.has(t)&&0!==r||this.cache.set(t,{moments:h.bM(t.size),velocities:h.bM(t.size),tmp1:h.bM(t.size),tmp2:h.bM(t.size)});var o=this.cache.get(t);return h.fe(e,n,function(e,n){return t.activation.moment(e)*n},o.tmp1),h.ZN(o.moments,o.tmp1,function(t,e){return t*i.beta1+(1-i.beta1)*e}),h.ZN(o.velocities,o.tmp1,function(t,e){return t*i.beta2+(1-i.beta2)*e*e}),h.ZN(o.tmp1,o.moments,function(t,e){return e/(1-Math.pow(i.beta1,r+1))}),h.ZN(o.tmp2,o.velocities,function(t,e){return e/(1-Math.pow(i.beta2,r+1))}),h.ZN(o.tmp1,o.tmp2,function(t,e){return t*i.lr/(Math.sqrt(e)+i.eps)}),o.tmp1}}]),t}(),rmsprop:function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.9,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.005,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-8;a(this,t),this.cache=new Map,this.beta=e,this.lr=n,this.eps=r,this.description="rmsprop(beta: ".concat(e,", lr: ").concat(this.lr,", eps: ").concat(this.eps,")")}return s(t,[{key:"step",value:function(t,e,n,r){var i=this;this.cache.has(t)||this.cache.set(t,{velocities:h.bM(t.size),tmp1:h.bM(t.size)});var o=this.cache.get(t);return h.fe(e,n,function(e,n){return n*t.activation.moment(e)},o.tmp1),h.ZN(o.velocities,o.tmp1,function(t,e){return i.beta*t+(1-i.beta)*e*e}),h.ZN(o.tmp1,o.velocities,function(t,e){return i.lr/Math.sqrt(e+i.eps)*t}),o.tmp1}}]),t}()},f=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.01;a(this,t),this.alpha=e}return s(t,[{key:"value",value:function(t){return t>0?t:t*this.alpha}},{key:"moment",value:function(t){return t>0?1:this.alpha}}]),t}(),p={sigmoid:function(){function t(){a(this,t)}return s(t,[{key:"value",value:function(t){return 1/(1+Math.exp(-t))}},{key:"moment",value:function(t){var e=this.value(t);return e*(1-e)}}]),t}(),relu:function(){function t(){a(this,t),this.leakyRelu=new f(0)}return s(t,[{key:"value",value:function(t){return this.leakyRelu.value(t)}},{key:"moment",value:function(t){return this.leakyRelu.moment(t)}}]),t}(),leakyRelu:f,tanh:function(){function t(){a(this,t)}return s(t,[{key:"value",value:function(t){return Math.tanh(t)}},{key:"moment",value:function(t){return 1-Math.pow(Math.tanh(t),2)}}]),t}()},v={zero:function(t,e){return h.bM(t)},xavier:function(t,e){var n=Math.sqrt(6/(t+e));return h.MX(t,-n,n)},uniform:function(t,e){return h.MX(t,-1,1)}},y={Dense:function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"sigmoid",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"xavier",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"zero";if(a(this,t),this.prevSize=0,this.size=e,this.weight_initializer="string"==typeof r?v[r]:r,!this.weight_initializer)throw new Error("Unknown weight initializer type ".concat(r));if(this.bias_initializer="string"==typeof i?v[i]:i,!this.bias_initializer)throw new Error("Unknown bias initializer type ".concat(i));var o="string"==typeof n?p[n]:n;if(!o)throw new Error("Unknown activation type ".concat(n));this.activation="object"==typeof o?o:new o}return s(t,[{key:"build",value:function(t,e){var n=this;this.prevSize=e,t>0?(this.weights=h.hl(function(){return n.weight_initializer(n.prevSize,n.size)},this.size),this.biases=this.bias_initializer(this.size,this.prevSize),this.values=h.bM(this.size)):(this.weights=[],this.biases=[],this.values=[])}},{key:"step",value:function(t){return this.weights.length>0?(h.KM(this.weights,t,this.values),h.BU(this.values,this.biases),this.values):t}}]),t}()};"undefined"!=typeof window&&window,"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,"undefined"!=typeof global&&global;var m=function(){function t(){a(this,t),this.compiled=!1,this.epoch=0,this.trainable=[],this.layers=[],this.cache=new Map,this.modelByLayer=new Map,this.models=[]}return s(t,[{key:"addModel",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.models.push(t),this.trainable.push(e),this}},{key:"compile",value:function(){if(!this.compiled){for(var t=0;t<this.models.length;t++){var e,n=this.models[t];if(t>0){var r=this.models[t-1],i=n.layers[0].size,a=r.layers[r.layers.length-1].size;if(i!==a)throw new Error("Models in chain has different in-out sizes: ".concat(a," != ").concat(i))}var u;n.compile();var s,h=o(u=t>0?n.layers.slice(1):n.layers);try{for(h.s();!(s=h.n()).done;){var l=s.value;this.modelByLayer.set(l,[n,this.trainable[t]]),this.cache.set(l,new Array(l.size))}}catch(f){h.e(f)}finally{h.f()}(e=this.layers).push.apply(e,c(u))}this.compiled=!0}}},{key:"compute",value:function(t){if(!this.compiled)throw new Error("Model should be compiled before usage");var e,n=t,r=o(this.models);try{for(r.s();!(e=r.n()).done;){n=e.value.compute(n)}}catch(i){r.e(i)}finally{r.f()}return n}},{key:"train",value:function(t,e){var n=this;if(!this.compiled)throw new Error("Model should be compiled before usage");var r=new Array(this.layers.length),o=new Array(this.layers.length);r[0]=t;for(var a=function(t){var e=n.layers[t];o[t]=e.step(r[t-1]),r[t]=h.B5(o[t],function(t){return e.activation.value(t)},n.cache.get(e))},u=1;u<this.layers.length;u++)a(u);for(var s=h.lu(e,r[r.length-1]),c=function(t){var e=n.layers[t],a=i(n.modelByLayer.get(e),2),u=a[0],c=a[1],l=u.optimizer.step(e,o[t],s,n.epoch);if(c){for(var f=function(n){h.ZN(e.weights[n],r[t-1],function(t,e){return t+e*l[n]})},p=0;p<e.size;p++)f(p);h.ZN(e.biases,l,function(t,e){return t+e}),t>1&&(s=h.Kk(e.weights,s))}else{for(var v=new Array(e.size),y=function(n){v[n]=h.fe(e.weights[n],r[t-1],function(t,e){return t+e*l[n]})},m=0;m<e.size;m++)y(m);s=h.Kk(v,s)}},l=this.layers.length-1;l>0;l--)c(l);this.epoch+=1}}]),t}(),d={Activations:p,Initializers:v,Optimizers:l,Layers:y,Models:{Sequential:function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sgd";a(this,t),this.compiled=!1,this.epoch=0,this.layers=[],this.cache=new Map;var n="string"==typeof e?l[e]:e;if(!n)throw new Error("Unknown optimizer type ".concat(n));this.optimizer="object"==typeof n?n:new n}return s(t,[{key:"addLayer",value:function(t){return this.layers.push(t),this}},{key:"compile",value:function(){if(!this.compiled){for(var t=0;t<this.layers.length;t++){var e=this.layers[t];e.build(t,t>0?this.layers[t-1].size:0),this.cache.set(e,new Array(e.size))}this.compiled=!0}}},{key:"compute",value:function(t){var e=this;if(!this.compiled)throw new Error("Model should be compiled before usage");if(t.length!==this.layers[0].size)throw new Error("Input matrix has different size. Expected size ".concat(this.layers[0].size,", got ").concat(t.length));for(var n=t,r=function(t){var r=e.layers[t];n=h.B5(r.step(n),function(t){return r.activation.value(t)},e.cache.get(r))},i=1;i<this.layers.length;i++)r(i);return n}},{key:"train",value:function(t,e){var n=this;if(!this.compiled)throw new Error("Model should be compiled before usage");if(t.length!==this.layers[0].size)throw new Error("Input matrix has different size. Expected size ".concat(this.layers[0].size,", got ").concat(t.length));var r=this.layers[this.layers.length-1].size;if(e.length!==r)throw new Error("Output matrix has different size. Expected size ".concat(r,", got ").concat(e.length));var i=new Array(this.layers.length),o=new Array(this.layers.length);i[0]=t;for(var a=function(t){var e=n.layers[t];o[t]=e.step(i[t-1]),i[t]=h.B5(o[t],function(t){return e.activation.value(t)},n.cache.get(e))},u=1;u<this.layers.length;u++)a(u);for(var s=h.lu(e,i[i.length-1]),c=function(t){for(var e=n.layers[t],r=n.optimizer.step(e,o[t],s,n.epoch),a=function(n){h.ZN(e.weights[n],i[t-1],function(t,e){return t+e*r[n]})},u=0;u<e.size;u++)a(u);h.ZN(e.biases,r,function(t,e){return t+e}),t>1&&(s=h.Kk(e.weights,s))},l=this.layers.length-1;l>0;l--)c(l);this.epoch+=1}},{key:"getSnapshot",value:function(){return{weights:this.layers.slice(1).map(function(t){return t.weights.map(function(t){return h.JG(t)})}),biases:this.layers.slice(1).map(function(t){return h.JG(t.biases)})}}}]),t}(),Chain:function(n){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&t(e,n)}(i,n);var r=e(i);function i(t,e,n){var o;return a(this,i),(o=r.call(this,t,e)).expressions=n,o}return s(i,[{key:"visit",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.visitChain(this,e)}}]),i}(function(){function t(e,n){a(this,t),this.span=e,this.sourceSpan=n}return s(t,[{key:"toString",value:function(){return"AST"}}]),t}()),GAN:function(){function t(e,n){a(this,t),this.generator=e,this.discriminator=n,this.ganChain=new m,this.ganChain.addModel(e).addModel(n,!1).compile()}return s(t,[{key:"compute",value:function(t){return this.generator.compute(t)}},{key:"train",value:function(t,e,n,r){this.discriminator.train(t,e);var i=this.generator.compute(n);this.discriminator.train(i,r),this.ganChain.train(n,e)}}]),t}()}}},3515:function(t,e,n){"use strict";function r(t){var e=function(t){return[Number.parseInt(t.substr(1,2),16),Number.parseInt(t.substr(3,2),16),Number.parseInt(t.substr(5,2),16)]}(t);return 4278190080|e[2]<<16|e[1]<<8|e[0]}function i(t,e,n){var r=t>>16&255,i=t>>8&255,o=255&t;return((e>>16&255)-r)*(n=Math.max(0,Math.min(1,n)))+r<<16|((e>>8&255)-i)*n+i<<8|((255&e)-o)*n+o|4278190080}n.d(e,{h0:function(){return r},a4:function(){return i}})}}])}();