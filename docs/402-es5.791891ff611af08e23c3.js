!function(){function n(n){return function(n){if(Array.isArray(n))return t(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||r(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(n,e){var t="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=r(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var o=0,a=function(){};return{s:a,n:function(){return o>=n.length?{done:!0}:{done:!1,value:n[o++]}},e:function(n){throw n},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,i=!0,c=!1;return{s:function(){t=t.call(n)},n:function(){var n=t.next();return i=n.done,n},e:function(n){c=!0,u=n},f:function(){try{i||null==t.return||t.return()}finally{if(c)throw u}}}}function r(n,e){if(n){if("string"==typeof n)return t(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(n,e):void 0}}function t(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,t=new Array(e);r<e;r++)t[r]=n[r];return t}!function(){"use strict";var r,t,o,a={8992:function(n,r,t){var o=regeneratorRuntime.mark(s),a=regeneratorRuntime.mark(l),u=regeneratorRuntime.mark(p),i=regeneratorRuntime.mark(v),c=regeneratorRuntime.mark(h),f=regeneratorRuntime.mark(m);function s(n,e){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=n;case 1:if(!(r<e)){t.next=7;break}return t.next=4,r;case 4:++r,t.next=1;break;case 7:case"end":return t.stop()}},o)}function l(n,r){var t,o,u,i;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t=0,o=e(n),a.prev=2,o.s();case 4:if((u=o.n()).done){a.next=11;break}return i=u.value,a.next=8,r(i,t);case 8:t+=1;case 9:a.next=4;break;case 11:a.next=16;break;case 13:a.prev=13,a.t0=a.catch(2),o.e(a.t0);case 16:return a.prev=16,o.f(),a.finish(16);case 19:case"end":return a.stop()}},a,null,[[2,13,16,19]])}function p(n){var r,t,o,a;return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:r=function(n){for(var e,r=n.length;0!==r;){var t;e=Math.floor(Math.random()*r),r--,t=[n[e],n[r]],n[r]=t[0],n[e]=t[1]}return n}(Array.from(s(0,n.length))),t=e(r),u.prev=2,t.s();case 4:if((o=t.n()).done){u.next=10;break}return a=o.value,u.next=8,n[a];case 8:u.next=4;break;case 10:u.next=15;break;case 12:u.prev=12,u.t0=u.catch(2),t.e(u.t0);case 15:return u.prev=15,t.f(),u.finish(15);case 18:case"end":return u.stop()}},u,null,[[2,12,15,18]])}function v(n,e){var r,t;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:r=Math.max(n.length,e.length),t=0;case 2:if(!(t<r)){o.next=8;break}return o.next=5,[n[t],e[t]];case 5:t++,o.next=2;break;case 8:case"end":return o.stop()}},i)}function h(n,r){var t,o;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t=regeneratorRuntime.mark(function n(r){var t,o,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t=e(r),n.prev=1,t.s();case 3:if((o=t.n()).done){n.next=9;break}return a=o.value,n.next=7,a;case 7:n.next=3;break;case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),t.e(n.t0);case 14:return n.prev=14,t.f(),n.finish(14);case 17:case"end":return n.stop()}},n,null,[[1,11,14,17]])})(n);case 1:if((o=Array.from(m(t,r))).length>0){a.next=4;break}return a.abrupt("break",8);case 4:return a.next=6,o;case 6:a.next=1;break;case 8:case"end":return a.stop()}},c)}function m(n,e){var r,t,o;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:r=n[Symbol.iterator](),o=0;case 2:if(a.t0=!1===(t=r.next()).done,!a.t0){a.next=8;break}return a.next=6,t.value;case 6:++o,a.t0=!(o>=e);case 8:if(!a.t0){a.next=12;break}case 10:a.next=2;break;case 12:case"end":return a.stop()}},f)}t.d(r,{w6:function(){return s},UI:function(){return l},yg:function(){return p},$R:function(){return v},uK:function(){return h}})},5307:function(e,r,t){t.d(r,{hl:function(){return a},q9:function(){return u},ZN:function(){return i},fe:function(){return c},B5:function(){return f},lu:function(){return s},BU:function(){return l},W0:function(){return p},bM:function(){return h},dW:function(){return m},JG:function(){return d},o1:function(){return g},KM:function(){return y},Kk:function(){return b}});var o=t(8992);function a(n,e){return Array.from(o.UI(o.w6(0,e),n))}function u(n,e){return a(function(){return n},e)}function i(n,e,r){for(var t=Math.min(n.length,e.length),o=0;o<t;++o)n[o]=r(n[o],e[o])}function c(n,e,r,t){for(var o=Math.min(n.length,e.length),a=t||new Array(o),u=0;u<o;++u)a[u]=r(n[u],e[u]);return a}function f(n,e,r){for(var t=n.length,o=r||new Array(t),a=0;a<t;++a)o[a]=e(n[a],a);return o}function s(n,e,r){return c(n,e,function(n,e){return n-e},r)}function l(n,e){i(n,e,function(n,e){return n+e})}function p(n,e){return c(n,e,function(n,e){return n*e},n)}function v(n,e){for(var r=Math.min(n.length,e.length),t=0,o=0,a=0;a<r;++a){var u=n[a]*e[a]-o,i=t+u;o=i-t-u,t=i}return t}function h(n){return u(0,n)}function m(n,e){return a(function(){return h(e)},n)}function d(e){return n(e)}function g(n,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return a(function(n){return function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,t=r-e;return a(function(){return e+Math.random()*t},n)}(e,r,t)},n)}function y(n,e,r){for(var t=n.length,o=r||new Array(t),a=0;a<t;a++)o[a]=v(n[a],e);return o}function b(n,e){for(var r=new Array(n[0].length),t=Math.min(n.length,e.length),o=0;o<r.length;++o){for(var a=0,u=0,i=0;i<t;i++){var c=n[i][o]*e[i]-u,f=a+c;u=f-a-c,a=f}r[o]=a}return r}},3402:function(n,r,t){function o(n,e){for(var r=0,t=0;t<n.length;t++)r+=Math.pow(e[t]-n[t],2);return r/n.length}var a=t(3515),u=[13,7,5],i=a.h0("#e72525"),c=a.h0("#2562e7"),f=t(3430),s=x(u,.01),l=[],p=[],v=[],h=0,m=!1,d=1,g=0,y=0,b=0;function x(n,r){var t=new f.Z.Models.Sequential(new f.Z.Optimizers.sgd(r));t.addLayer(new f.Z.Layers.Dense(2));var o,a=e(n);try{for(a.s();!(o=a.n()).done;){var u=o.value;t.addLayer(new f.Z.Layers.Dense(u,"sigmoid","xavier"))}}catch(i){a.e(i)}finally{a.f()}return t.addLayer(new f.Z.Layers.Dense(1)),t.compile(),t}function w(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.25,e=performance.now();if(!(e-y<41.666666666666664)){for(var r=1/640/n,t=1/480/n,o=Math.ceil(1/r),u=Math.ceil(1/t),f=new Uint32Array(o*u),l=0;l<o;l++)for(var p=0;p<u;p++){var v=s.compute([l*r,p*t]);f[p*o+l]=a.a4(i,c,v[0])}var h={type:"training_data",epoch:s.epoch,loss:d,isTraining:m,state:f.buffer,nnSnapshot:s.getSnapshot(),width:o,height:u};y=e,postMessage(h,[f.buffer]),console.log("*** DRAWING ".concat((performance.now()-e).toFixed(2),"ms"))}}addEventListener("message",function(n){var e,r,t=n.data;switch(t.type){case"add_point":var o=t.point;l.push(o),p.push([o.x,o.y]),v.push([o.type]),h=0,g=0,m=!0;break;case"set_points":l=t.points,p=l.map(function(n){return[n.x,n.y]}),v=l.map(function(n){return[n.type]}),h=0,g=0,m=!0;break;case"refresh":var a=(null===(e=t.config)||void 0===e?void 0:e.layers)||u,i=(null===(r=t.config)||void 0===r?void 0:r.learningRate)||.01;s=x(a,i),h=0,g=0,m=!0}}),setTimeout(function n(){try{!function(){if(m){var n,e=1e6-h,r=performance.now(),t=Math.max(1,Math.floor(l.length/50)),a=10;for(n=0;n<e;n++)if(s.train(p,v,t),n%a==0){var u=performance.now()-r;if(u>=10.416666666666666)break;n>0&&(a=Math.min(1e3,Math.max(1,Math.floor(n/u*(10.416666666666666-u)*.9))))}h+=n,g+=n;var i=performance.now()-b;i>=416.66666666666663&&(d=function(n,e,r){for(var t=0,a=0;a<e.length;a++)t+=o(n.compute(e[a]),r[a]);return t/e.length}(s,p,v),m=d>=1e-4&&h<1e6,console.log("*** METRICS ".concat(g," epochs in ").concat(i.toFixed(2),"ms (").concat((l.length*g/i).toFixed(2)," op/ms) loss: ").concat(d.toFixed(4))),g=0,b=performance.now()),m?w():(y=0,console.log("*** DATA SET TRAINING FINISHED ***"),function(n,e,r){if(0!==e.length){console.log("***");for(var t=0,a=0;a<e.length;a++){var u=e[a],i=r[a],c=n.compute(u),f=c.map(function(n){return n.toFixed(2)}),s=i.map(function(n){return n.toFixed(2)}),l=100*(1-o(i,c));console.log("INPUT ".concat(u," OUTPUT ").concat(f," EXPECTED ").concat(s," (accuracy ").concat(l.toFixed(2),"%)")),t+=l}console.log("TOTAL ACCURACY: ".concat((t/e.length).toFixed(2),"%")),console.log("***")}}(s,p,v),w(2))}}()}finally{h<1e6&&l.length>0?setTimeout(n,3):setTimeout(n,1e3)}},0)}},u={};function i(n){var e=u[n];if(void 0!==e)return e.exports;var r=u[n]={exports:{}};return a[n](r,r.exports,i),r.exports}i.m=a,i.x=function(){var n=i.O(void 0,[440],function(){return i(3402)});return i.O(n)},r=[],i.O=function(n,e,t,o){if(!e){var a=1/0;for(f=0;f<r.length;f++){e=r[f][0],t=r[f][1],o=r[f][2];for(var u=!0,c=0;c<e.length;c++)(!1&o||a>=o)&&Object.keys(i.O).every(function(n){return i.O[n](e[c])})?e.splice(c--,1):(u=!1,o<a&&(a=o));u&&(r.splice(f--,1),n=t())}return n}o=o||0;for(var f=r.length;f>0&&r[f-1][2]>o;f--)r[f]=r[f-1];r[f]=[e,t,o]},i.d=function(n,e){for(var r in e)i.o(e,r)&&!i.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},i.f={},i.e=function(n){return Promise.all(Object.keys(i.f).reduce(function(e,r){return i.f[r](n,e),e},[]))},i.u=function(n){return n+"-es2017.352aa0b08f290bd8e59b.js"},i.miniCssF=function(n){},i.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},i.tu=function(n){return void 0===t&&(t={createScriptURL:function(n){return n}},"undefined"!=typeof trustedTypes&&trustedTypes.createPolicy&&(t=trustedTypes.createPolicy("angular#bundler",t))),t.createScriptURL(n)},i.p="",function(){var n={402:1};i.f.i=function(e,r){n[e]||importScripts(i.tu(i.p+i.u(e)))};var e=self.webpackChunkneural_network=self.webpackChunkneural_network||[],r=e.push.bind(e);e.push=function(e){var t=e[0],o=e[1],a=e[2];for(var u in o)i.o(o,u)&&(i.m[u]=o[u]);for(a&&a(i);t.length;)n[t.pop()]=1;r(e)}}(),o=i.x,i.x=function(){return i.e(440).then(o)},i.x()}()}();